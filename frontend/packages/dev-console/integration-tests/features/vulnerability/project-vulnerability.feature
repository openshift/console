@vulnerability
Feature: Image Vulnerability in Project
              As a user, I would like to see Image Vulnerability in Project

        
        Background:
            Given user is in Developer perspectiitve
              And user has selected "aut-image-vulnerabilty" namespace
              And user has installed quay container security operator


        @regression @tod-do
        Scenario: Vulnerability in project overview: PV-01-TC01
            Given user is at topology page
             When user goes to project tab on navigation menu
             Then user can see vulnerabilities in Status section
              And user can see vulnerabilities with number associated with it


        @regression @tod-do
        Scenario: Image Vulnerability breakdown pop over in project overview: PV-01-TC02
            Given user is at project tab
             When user clicks on the Image Vulnerabilities
             Then user can see Image Vulnerability breakdown pop over
              And user can see Vulnerable Container Images and Fixable Container Images
              And user can see View all link on bottom of pop over


        @regression @tod-do
        Scenario: Visit Image Manifest Vulnerabilities page from status in project overview: PV-01-TC03
            Given user is at project tab
             When user clicks on the Image Vulnerabilities in Status section
              And user clicks on the View all link on Image Vulnerability breakdown pop over
             Then user can see Image Manifest Vulnerabilities page


        @regression @tod-do
        Scenario: Visit ImageManifestVuln from status in project overview: PV-01-TC04
            Given user is at project tab
             When user clicks on the Image Vulnerabilities in Status section
              And user clicks on the image name in Image Vulnerability breakdown pop over to open that particular ImageManifestVuln
             Then user can see ImageManifestVuln for the image name


        @regression @tod-do
        Scenario: Visit quay page from status in project overview: PV-01-TC05
            Given user is at project tab
             When user clicks on the Image Vulnerabilities in Status section
              And user clicks on the fixable link in Image Vulnerability breakdown pop over
             Then user can see the image open in quay.io


        @regression @tod-do
        Scenario: Vulnerability tab in developer console: PV-01-TC06
            Given user is at topology page
             When user goes to project tab on navigation menu
              And user clicks on the vulnerability tab
             Then user can see Image Manifest vulnerabilities
              And user can see filter with name option selected
              And user can see Image Name, Highest Severity, Affected Pods, Fixable, Total, and Manifests


        @regression @tod-do
        Scenario: Filter in vulnerability tab: PV-01-TC07
            Given user is at vulnerability tab
             When user clicks on dropdown associated with filter
              And user clicks on label option
             Then user can see filter with label option selected


        @regression @tod-do
        Scenario: Image manifests vulnerability details page: PV-01-TC08
            Given user is at vulnerability tab
              And vulnerability tab has vulnerabilities
             When user clicks on first vulnerability to open Image manifests vulnerability details page
             Then user can see image manifest vulnerability Details, YAML and Affected Pods tabs on ImageManifestsVuln Details page
              And user can see the donut chart ImageManifestsVuln section
              And user can see vulnerabilities section at the bottom of the page
              And user can see Vulnerabilty, Severity, Package, Current Version, Fixed in Version tabs in vulnerabilities section
              And user can see filter in vulnerabilities section
              And user can see search by name input field

        
        @regression @tod-do
        Scenario: Filters of vulnerability section in Image manifests vulnerability details page: PV-01-TC09
            Given user is at Image manifests vulnerability details page
             When user clicks on Filter dropdown menu in vulnerabilities section
              And user can see Severity section in the filter
              And user can see Defcon 1, Critical, High, Medium, Low, Negligible and Unknown in Severity filter

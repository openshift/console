[
  {
    "type": "console.flag/model",
    "properties": {
      "model": {
        "group": "metal3.io",
        "version": "v1alpha1",
        "kind": "BareMetalHost"
      },
      "flag": "METAL3"
    }
  },
  {
    "type": "console.flag/model",
    "properties": {
      "model": {
        "group": "nodemaintenance.medik8s.io",
        "version": "v1beta1",
        "kind": "NodeMaintenance"
      },
      "flag": "NODE_MAINTENANCE"
    }
  },
  {
    "type": "console.flag/model",
    "properties": {
      "model": {
        "group": "nodemaintenance.kubevirt.io",
        "version": "v1beta1",
        "kind": "NodeMaintenance"
      },
      "flag": "NODE_MAINTENANCE_KV_BETA"
    }
  },
  {
    "type": "console.flag/model",
    "properties": {
      "model": {
        "group": "kubevirt.io",
        "version": "v1alpha1",
        "kind": "NodeMaintenance"
      },
      "flag": "NODE_MAINTENANCE_KV_ALPHA"
    }
  },
  {
    "type": "console.flag/hookProvider",
    "properties": {
      "handler": { "$codeRef": "features.useDetectNodeMaintenance" }
    }
  },
  {
    "type": "console.model-metadata",
    "properties": {
      "model": {
        "group": "metal3.io",
        "version": "v1alpha1",
        "kind": "BareMetalHost"
      },
      "label": "%metal3-plugin~Bare Metal Host%",
      "labelPlural": "%metal3-plugin~Bare Metal Hosts%",
      "abbr": "BMH",
      "color": "#2b9af3"
    }
  },
  {
    "type": "console.model-metadata",
    "properties": {
      "model": {
        "group": "nodemaintenance.medik8s.io",
        "version": "v1beta1",
        "kind": "NodeMaintenance"
      },
      "label": "%metal3-plugin~Node Maintenance%",
      "labelPlural": "%metal3-plugin~Node Maintenances%",
      "abbr": "NM",
      "color": "#2b9af3"
    }
  },
  {
    "type": "console.model-metadata",
    "properties": {
      "model": {
        "group": "kubevirt.io",
        "version": "v1alpha1",
        "kind": "NodeMaintenance"
      },
      "label": "%metal3-plugin~Node Maintenance%",
      "labelPlural": "%metal3-plugin~Node Maintenances%",
      "abbr": "NM",
      "color": "#2b9af3"
    }
  },
  {
    "type": "console.model-metadata",
    "properties": {
      "model": {
        "group": "nodemaintenance.kubevirt.io",
        "version": "v1beta1",
        "kind": "NodeMaintenance"
      },
      "label": "%metal3-plugin~Node Maintenance%",
      "labelPlural": "%metal3-plugin~Node Maintenances%",
      "abbr": "NM",
      "color": "#2b9af3"
    }
  },
  {
    "type": "console.navigation/resource-ns",
    "properties": {
      "id": "baremetal",
      "section": "compute",
      "name": "%metal3-plugin~Bare Metal Hosts%",
      "insertBefore": "computeseparator",
      "model": {
        "kind": "BareMetalHost",
        "version": "v1alpha1",
        "group": "metal3.io"
      }
    },
    "flags": {
      "required": ["BAREMETAL", "METAL3"]
    }
  },
  {
    "type": "console.action/resource-provider",
    "properties": {
      "model": {
        "version": "v1",
        "kind": "Node"
      },
      "provider": {
        "$codeRef": "nodeActions.useNodeMaintenanceActions"
      }
    },
    "flags": {
      "required": ["NODE_MAINTENANCE_ENABLED"]
    }
  },
  {
    "type": "console.page/resource/list",
    "properties": {
      "model": {
        "group": "metal3.io",
        "version": "v1alpha1",
        "kind": "BareMetalHost"
      },
      "component": { "$codeRef": "baremetalHostsPage" }
    },
    "flags": {
      "required": ["BAREMETAL"]
    }
  },
  {
    "type": "console.page/resource/details",
    "properties": {
      "model": {
        "group": "metal3.io",
        "version": "v1alpha1",
        "kind": "BareMetalHost"
      },
      "component": { "$codeRef": "baremetalHostsDetailsPage" }
    },
    "flags": {
      "required": ["BAREMETAL"]
    }
  },
  {
    "type": "console.page/route",
    "properties": {
      "exact": true,
      "path": [
        "/k8s/ns/:ns/metal3.io~v1alpha1~BareMetalHost/~new/form",
        "/k8s/ns/:ns/metal3.io~v1alpha1~BareMetalHost/:name/edit"
      ],
      "component": { "$codeRef": "addBareMetalHostPage" }
    },
    "flags": {
      "required": ["BAREMETAL", "METAL3"]
    }
  },
  {
    "type": "console.dashboards/overview/inventory/item/replacement",
    "properties": {
      "model": {
        "$codeRef": "getBMNStatusGroups.NodeModel"
      },
      "additionalResources": {
        "kvAlphaMaintenances": {
          "isList": true,
          "groupVersionKind": {
            "group": "kubevirt.io",
            "version": "v1alpha1",
            "kind": "NodeMaintenance"
          },
          "optional": true
        },
        "kvBetaMaintenances": {
          "isList": true,
          "groupVersionKind": {
            "group": "nodemaintenance.kubevirt.io",
            "version": "v1beta1",
            "kind": "NodeMaintenance"
          },
          "optional": true
        },
        "maintenances": {
          "isList": true,
          "groupVersionKind": {
            "group": "nodemaintenance.medik8s.io",
            "version": "v1beta1",
            "kind": "NodeMaintenance"
          },
          "optional": true
        },
        "csrs": {
          "isList": true,
          "groupVersionKind": {
            "group": "certificates.k8s.io",
            "version": "v1",
            "kind": "CertificateSigningRequest"
          },
          "optional": true
        }
      },
      "mapper": { "$codeRef": "getBMNStatusGroups.getBMNStatusGroups" }
    },
    "flags": {
      "required": ["BAREMETAL", "METAL3"]
    }
  },
  {
    "type": "console.dashboards/overview/inventory/item",
    "properties": {
      "model": { "$codeRef": "getBMHStatusGroups.BareMetalHostModel" },
      "additionalResources": {
        "machines": {
          "isList": true,
          "groupVersionKind": {
            "group": "machine.openshift.io",
            "version": "v1beta1",
            "kind": "Machine"
          }
        },
        "nodes": {
          "isList": true,
          "groupVersionKind": {
            "version": "v1",
            "kind": "Node"
          }
        },
        "kvAlphaMaintenances": {
          "isList": true,
          "groupVersionKind": {
            "group": "kubevirt.io",
            "version": "v1alpha1",
            "kind": "NodeMaintenance"
          },
          "optional": true
        },
        "kvBetaMaintenances": {
          "isList": true,
          "groupVersionKind": {
            "group": "nodemaintenance.kubevirt.io",
            "version": "v1beta1",
            "kind": "NodeMaintenance"
          },
          "optional": true
        },
        "maintenances": {
          "isList": true,
          "groupVersionKind": {
            "group": "nodemaintenance.medik8s.io",
            "version": "v1beta1",
            "kind": "NodeMaintenance"
          },
          "optional": true
        }
      },
      "mapper": { "$codeRef": "getBMHStatusGroups.getBMHStatusGroups" }
    },
    "flags": {
      "required": ["BAREMETAL", "METAL3"]
    }
  },
  {
    "type": "console.dashboards/overview/inventory/item/group",
    "properties": {
      "id": "node-maintenance",
      "icon": { "$codeRef": "maintenanceIcon.NodeMaintenanceIcon" }
    }
  },
  {
    "type": "console.dashboards/overview/activity/resource",
    "properties": {
      "k8sResource": {
        "isList": true,
        "kind": "NodeMaintenance",
        "prop": "maintenances"
      },
      "isActivity": { "$codeRef": "dashboardActivity.isActivity" },
      "getTimestamp": { "$codeRef": "dashboardActivity.getTimestamp" },
      "component": { "$codeRef": "maintenanceDashboardActivity.default" }
    },
    "flags": {
      "required": ["BAREMETAL", "METAL3", "NODE_MAINTENANCE"]
    }
  },
  {
    "type": "console.dashboards/activity/resource",
    "properties": {
      "k8sResource": {
        "isList": true,
        "kind": "NodeMaintenance",
        "prop": "maintenances"
      },
      "isActivity": { "$codeRef": "dashboardActivity.isActivity" },
      "getTimestamp": { "$codeRef": "dashboardActivity.getTimestamp" },
      "component": { "$codeRef": "maintenanceDashboardActivity.default" }
    },
    "flags": {
      "required": ["BAREMETAL", "METAL3", "NODE_MAINTENANCE_KV_ALPHA"]
    }
  },
  {
    "type": "console.dashboards/activity/resource",
    "properties": {
      "k8sResource": {
        "isList": true,
        "kind": "NodeMaintenance",
        "prop": "maintenances"
      },
      "isActivity": { "$codeRef": "dashboardActivity.isActivity" },
      "getTimestamp": { "$codeRef": "dashboardActivity.getTimestamp" },
      "component": { "$codeRef": "maintenanceDashboardActivity.default" }
    },
    "flags": {
      "required": ["BAREMETAL", "METAL3", "NODE_MAINTENANCE_KV_BETA"]
    }
  },
  {
    "type": "console.dashboards/activity/resource",
    "properties": {
      "k8sResource": {
        "isList": true,
        "kind": "BareMetalHost",
        "prop": "bmhs"
      },
      "isActivity": { "$codeRef": "getBMHStatusGroups.isBMHActivity" },
      "component": { "$codeRef": "baremetalHostsDashboardActivity.default" }
    },
    "flags": {
      "required": ["BAREMETAL", "METAL3"]
    }
  }
]
